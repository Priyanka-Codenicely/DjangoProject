{% extends "blog/base.html" %}
{%  block  script %}
{% load crispy_forms_tags %}

<script>
    window.onload = function setDate() {
        document.getElementById("dob").valueAsDate = new Date();
    };

    function isNumberKey(evt) {
        var charCode = (evt.which) ? evt.which : event.keyCode;
        if ((charCode < 48 || charCode > 57))
            return false;

        return true;
    }


    function blankFunction() {

        /*var x = document.getElementsByName("password1")[0].value;
            alert(x)'''
      */



        var first_name = document.forms["RegForm"]["first_name"];
        var last_name = document.forms["RegForm"]["last_name"];
        var roll_no = document.forms["RegForm"]["roll_no"];
        var email = document.forms["RegForm"]["email"];
        var password1 = document.forms["RegForm"]["password1"];
        var password2 = document.forms["RegForm"]["password2"];



        if (first_name.value == "") {
            window.alert("Please enter your first name.");
            first_name.focus();
            return false;
        }

        if (roll_no.value == "") {
            window.alert("Please enter your roll no.");
            roll_no.focus();
            return false;
        }


        if (email.value == "") {
            window.alert("Please enter a valid e-mail address.");
            email.focus();
            return false;
        }

        if (password1.value == "") {
            window.alert("Please enter your password");
            password1.focus();
            return false;
        }

        if (password2.value == '') {
            window.alert("Please enter your confirmation password");
            password2.focus();
            return false;
        }

        if (password2.value != password1.value) {
            window.alert("Your password doesn't match");
            password2.focus();
            return false;
        }
        return true;

    }

</script>


<style>
    .button {
        border: none;
        color: white;
        padding: 10px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        margin: 4px 2px;
        cursor: pointer;
        width: 150px;
        height: 50px;
        background-color: tomato;
    }
</style>
{% endblock %}

{% block content %}
<div class="form-div">
    <div class="z-depth-3">
    <form name="RegForm" method="post" action='{% url "blog-formSubmit" %}'>
        <h2 align="center">Registration Page</h2>
        <br>
        {% csrf_token %}
        <div class='row'>
                <label for="first_name" class="col s6">First Name<font color="red">*</font>:</label>

                <input class="col s6" type="text" name="first_name" placeholder="First Name">
        </div>
        <div class='row'>
            <label for="last_name" class="col s6">Last Name:</label>
            <input class="col s6" type="text" name="last_name" placeholder="Last Name">
        </div>
        <div class='row'>
            <label for="last_name" class="col s6">Roll Number<font color="red">*</font>:</label>
            <input class="col s6 text-align:right" type="number" name="roll_no" placeholder="Roll Number"
                onkeypress="return isNumberKey(event)"><br>
            <p style="font-size:13px;color:rgb(177, 8, 8)"> {{err_msg}}</p>
        </div>
        <div class='row'>
            <label for="dob" class="col s6">Date of Birth<font color="red">*</font>:</label>
            <input class="col s6" type="date" name="dob" id="dob" placeholder="Date of Birth"
                required>
        </div>
        <div class='row'>
            <label for="user_name" class="col s6">User Name<font color="red">*</font>:</label>
            <input class="col s6" type="text" name="user_name" placeholder="User Name">
        </div>
        <div class='row'>
            <label for="email" class="col s6">Email<font color="red">*</font>:</label>
            <input class="col s6" type="email" name="email" placeholder="Email">
            <p style="font-size:13px;color:rgb(177, 8, 8)"> {{err_msg2}}</p>
        </div>
        <div class='row'>
            <label for="password1" class="col s6">Password<font color="red">*</font>:</label>
            <input class="col s6" type="password" name="password1" placeholder="Password">
        </div>
        <div class='row'>
            <label for="password2" class="col s6">Confirm Password<font color="red">*</font>:</label>
            <input class="col s6" type="password" name="password2" placeholder="Confirm Password">
        </div>
        <div>
            <p style="font-size:13px;color:rgb(177, 8, 8)"> {{err_msg4}}</p>
            <div align="center">
                <input type="submit" class='btn red' value="Sign Up" onclick="return blankFunction()">
            </div>
        </div>
    </form>
    <div style="padding-bottom:30px" align="center">
        <a href='{% url "blog-login" %}'>Already have an account?</a>
    </div style="padding-bottom:30px">
</div>
    {% endblock %}
</div>
</div>